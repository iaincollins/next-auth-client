(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("isomorphic-fetch"));
	else if(typeof define === 'function' && define.amd)
		define(["isomorphic-fetch"], factory);
	else if(typeof exports === 'object')
		exports["next-auth-client"] = factory(require("isomorphic-fetch"));
	else
		root["next-auth-client"] = factory(root["isomorphic-fetch"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_2__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: NextAuth */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__next_auth_client__ = __webpack_require__(/*! ./next-auth-client */ 1);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"NextAuth\", function() { return __WEBPACK_IMPORTED_MODULE_0__next_auth_client__[\"a\"]; });\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgTmV4dEF1dGggZnJvbSAnLi9uZXh0LWF1dGgtY2xpZW50J1xuXG5leHBvcnQgeyBcbiAgTmV4dEF1dGhcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!*********************************!*\
  !*** ./src/next-auth-client.js ***!
  \*********************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch__ = __webpack_require__(/*! isomorphic-fetch */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class {\n  /**\n   * This is an async, isometric method which returns a session object - \n   * either by looking up the current express session object when run on the\n   * server, or by using fetch (and optionally caching the result in local\n   * storage) when run on the client.  \n   * \n   * Note that actual session tokens are not stored in local storage, they are\n   * kept in an HTTP Only cookie as protection against session hi-jacking by\n   * malicious JavaScript.\n   **/\n  static async init({\n    req = null,\n    force = false\n  } = {}) {\n    let session = {}\n    if (req) {\n      if (req.session) {\n        // If running on the server session data should be in the req object\n        session.csrfToken = req.connection._httpMessage.locals._csrf\n        session.expires = req.session.cookie._expires\n        // If the user is logged in, add the user to the session object\n        if (req.user) {\n          session.user = req.user\n        }\n      }\n    } else {\n      // If running in the browser attempt to load session from sessionStore\n      if (force === true) {\n        // If force update is set, reset data store\n        this._removeLocalStore('session')\n      } else {\n        session = this._getLocalStore('session')\n      }\n    }\n\n    // If session data exists, has not expired AND force is not set then\n    // return the stored session we already have.\n    if (session && Object.keys(session).length > 0 && session.expires && session.expires > Date.now()) {\n      return new Promise(resolve => {\n        resolve(session)\n      })\n    } else {\n      // If running on server, but session has expired return empty object\n      // (no valid session)\n      if (typeof window === 'undefined') {\n        return new Promise(resolve => {\n          resolve({})\n        })\n      }\n    }\n\n    // If we don't have session data, or it's expired, or force is set\n    // to true then revalidate it by fetching it again from the server.\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/session', {\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (response.ok) {\n        return response\n      } else {\n        return Promise.reject(Error('HTTP error when trying to get session'))\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      // Update session with session info\n      session = data\n\n      // Set a value we will use to check this client should silently\n      // revalidate, using the value for revalidateAge returned by the server.\n      session.expires = Date.now() + session.revalidateAge\n\n      // Save changes to session\n      this._saveLocalStore('session', session)\n\n      return session\n    })\n    .catch(() => Error('Unable to get session'))\n  }\n\n  /**\n   * A simple static method to get the CSRF Token is provided for convenience\n   **/\n  static async csrfToken() {\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/csrf', {\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (response.ok) {\n        return response\n      } else {\n        return Promise.reject(Error('Unexpected response when trying to get CSRF token'))\n      }\n    })\n    .then(response => response.json())\n    .then(data => data.csrfToken)\n    .catch(() => Error('Unable to get CSRF token'))\n  }\n\n  /**\n   * A static method to get list of currently linked oAuth accounts\n   **/\n  static async linked({\n    req = null\n  } = {}) {\n    // If running server side, uses server side method\n    if (req) return req.linked()\n    \n    // If running client side, use RESTful endpoint\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/linked', {\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (response.ok) {\n        return response\n      } else {\n        return Promise.reject(Error('Unexpected response when trying to get linked accounts'))\n      }\n    })\n    .then(response => response.json())\n    .then(data => data)\n    .catch(() => Error('Unable to get linked accounts'))\n  }\n  \n  /**\n   * A static method to get list of currently configured oAuth providers\n   **/\n  static async providers({\n    req = null\n  } = {}) {\n    // If running server side, uses server side method\n    if (req) return req.providers()\n    \n    // If running client side, use RESTful endpoint\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/providers', {\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (response.ok) {\n        return response\n      } else {\n        return Promise.reject(Error('Unexpected response when trying to get oAuth providers'))\n      }\n    })\n    .then(response => response.json())\n    .then(data => data)\n    .catch(() => Error('Unable to get oAuth providers'))\n  }\n  \n  static async signin(email) {\n    // Sign in to the server\n\n    // Load current session info from cache\n    let session = await this.init()\n\n    // Make sure we have the latest CSRF Token in our session\n    session.csrfToken = await this.csrfToken()\n\n    const formData = {\n      _csrf: session.csrfToken,\n      email,\n    }\n    \n    // Encoded form parser for sending data in the body\n    const encodedForm = Object.keys(formData).map((key) => {\n      return encodeURIComponent(key) + '=' + encodeURIComponent(formData[key])\n    }).join('&')\n\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/email/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: encodedForm,\n      credentials: 'same-origin'\n    })\n    .then(response => {\n      if (response.ok) {\n        return response\n      } else {\n        return Promise.reject(Error('HTTP error while attempting to sign in'))\n      }\n    })\n    .then(() => true)\n    .catch(() => Error('Unable to sign in'))\n  }\n\n  static async signout() {\n    // Signout from the server\n    const csrfToken = await this.csrfToken()\n    const formData = { _csrf: csrfToken }\n\n    // Encoded form parser for sending data in the body\n    const encodedForm = Object.keys(formData).map((key) => {\n      return encodeURIComponent(key) + '=' + encodeURIComponent(formData[key])\n    }).join('&')\n    \n    // Remove cached session data\n    this._removeLocalStore('session')\n\n    return __WEBPACK_IMPORTED_MODULE_0_isomorphic_fetch___default()('/auth/signout', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: encodedForm,\n      credentials: 'same-origin'\n    })\n    .then(() => {\n      return true\n    })\n    .catch(() => Error('Unable to sign out'))\n  }\n\n  // The Web Storage API is widely supported, but not always available (e.g.\n  // it can be restricted in private browsing mode, triggering an exception).\n  // We handle that silently by just returning null here.\n  static _getLocalStore(name) {\n    try {\n      return JSON.parse(localStorage.getItem(name))\n    } catch (err) {\n      return null\n    }\n  }\n  \n  static _saveLocalStore(name, data) {\n    try {\n      localStorage.setItem(name, JSON.stringify(data))\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n  \n  static _removeLocalStore(name) {\n    try {\n      localStorage.removeItem(name)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9uZXh0LWF1dGgtY2xpZW50LmpzP2I3MTYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLWZldGNoJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIC8qKlxuICAgKiBUaGlzIGlzIGFuIGFzeW5jLCBpc29tZXRyaWMgbWV0aG9kIHdoaWNoIHJldHVybnMgYSBzZXNzaW9uIG9iamVjdCAtIFxuICAgKiBlaXRoZXIgYnkgbG9va2luZyB1cCB0aGUgY3VycmVudCBleHByZXNzIHNlc3Npb24gb2JqZWN0IHdoZW4gcnVuIG9uIHRoZVxuICAgKiBzZXJ2ZXIsIG9yIGJ5IHVzaW5nIGZldGNoIChhbmQgb3B0aW9uYWxseSBjYWNoaW5nIHRoZSByZXN1bHQgaW4gbG9jYWxcbiAgICogc3RvcmFnZSkgd2hlbiBydW4gb24gdGhlIGNsaWVudC4gIFxuICAgKiBcbiAgICogTm90ZSB0aGF0IGFjdHVhbCBzZXNzaW9uIHRva2VucyBhcmUgbm90IHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlLCB0aGV5IGFyZVxuICAgKiBrZXB0IGluIGFuIEhUVFAgT25seSBjb29raWUgYXMgcHJvdGVjdGlvbiBhZ2FpbnN0IHNlc3Npb24gaGktamFja2luZyBieVxuICAgKiBtYWxpY2lvdXMgSmF2YVNjcmlwdC5cbiAgICoqL1xuICBzdGF0aWMgYXN5bmMgaW5pdCh7XG4gICAgcmVxID0gbnVsbCxcbiAgICBmb3JjZSA9IGZhbHNlXG4gIH0gPSB7fSkge1xuICAgIGxldCBzZXNzaW9uID0ge31cbiAgICBpZiAocmVxKSB7XG4gICAgICBpZiAocmVxLnNlc3Npb24pIHtcbiAgICAgICAgLy8gSWYgcnVubmluZyBvbiB0aGUgc2VydmVyIHNlc3Npb24gZGF0YSBzaG91bGQgYmUgaW4gdGhlIHJlcSBvYmplY3RcbiAgICAgICAgc2Vzc2lvbi5jc3JmVG9rZW4gPSByZXEuY29ubmVjdGlvbi5faHR0cE1lc3NhZ2UubG9jYWxzLl9jc3JmXG4gICAgICAgIHNlc3Npb24uZXhwaXJlcyA9IHJlcS5zZXNzaW9uLmNvb2tpZS5fZXhwaXJlc1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4sIGFkZCB0aGUgdXNlciB0byB0aGUgc2Vzc2lvbiBvYmplY3RcbiAgICAgICAgaWYgKHJlcS51c2VyKSB7XG4gICAgICAgICAgc2Vzc2lvbi51c2VyID0gcmVxLnVzZXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBydW5uaW5nIGluIHRoZSBicm93c2VyIGF0dGVtcHQgdG8gbG9hZCBzZXNzaW9uIGZyb20gc2Vzc2lvblN0b3JlXG4gICAgICBpZiAoZm9yY2UgPT09IHRydWUpIHtcbiAgICAgICAgLy8gSWYgZm9yY2UgdXBkYXRlIGlzIHNldCwgcmVzZXQgZGF0YSBzdG9yZVxuICAgICAgICB0aGlzLl9yZW1vdmVMb2NhbFN0b3JlKCdzZXNzaW9uJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlc3Npb24gPSB0aGlzLl9nZXRMb2NhbFN0b3JlKCdzZXNzaW9uJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBzZXNzaW9uIGRhdGEgZXhpc3RzLCBoYXMgbm90IGV4cGlyZWQgQU5EIGZvcmNlIGlzIG5vdCBzZXQgdGhlblxuICAgIC8vIHJldHVybiB0aGUgc3RvcmVkIHNlc3Npb24gd2UgYWxyZWFkeSBoYXZlLlxuICAgIGlmIChzZXNzaW9uICYmIE9iamVjdC5rZXlzKHNlc3Npb24pLmxlbmd0aCA+IDAgJiYgc2Vzc2lvbi5leHBpcmVzICYmIHNlc3Npb24uZXhwaXJlcyA+IERhdGUubm93KCkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgcmVzb2x2ZShzZXNzaW9uKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgcnVubmluZyBvbiBzZXJ2ZXIsIGJ1dCBzZXNzaW9uIGhhcyBleHBpcmVkIHJldHVybiBlbXB0eSBvYmplY3RcbiAgICAgIC8vIChubyB2YWxpZCBzZXNzaW9uKVxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHt9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgc2Vzc2lvbiBkYXRhLCBvciBpdCdzIGV4cGlyZWQsIG9yIGZvcmNlIGlzIHNldFxuICAgIC8vIHRvIHRydWUgdGhlbiByZXZhbGlkYXRlIGl0IGJ5IGZldGNoaW5nIGl0IGFnYWluIGZyb20gdGhlIHNlcnZlci5cbiAgICByZXR1cm4gZmV0Y2goJy9hdXRoL3Nlc3Npb24nLCB7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCdIVFRQIGVycm9yIHdoZW4gdHJ5aW5nIHRvIGdldCBzZXNzaW9uJykpXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAvLyBVcGRhdGUgc2Vzc2lvbiB3aXRoIHNlc3Npb24gaW5mb1xuICAgICAgc2Vzc2lvbiA9IGRhdGFcblxuICAgICAgLy8gU2V0IGEgdmFsdWUgd2Ugd2lsbCB1c2UgdG8gY2hlY2sgdGhpcyBjbGllbnQgc2hvdWxkIHNpbGVudGx5XG4gICAgICAvLyByZXZhbGlkYXRlLCB1c2luZyB0aGUgdmFsdWUgZm9yIHJldmFsaWRhdGVBZ2UgcmV0dXJuZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgIHNlc3Npb24uZXhwaXJlcyA9IERhdGUubm93KCkgKyBzZXNzaW9uLnJldmFsaWRhdGVBZ2VcblxuICAgICAgLy8gU2F2ZSBjaGFuZ2VzIHRvIHNlc3Npb25cbiAgICAgIHRoaXMuX3NhdmVMb2NhbFN0b3JlKCdzZXNzaW9uJywgc2Vzc2lvbilcblxuICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICB9KVxuICAgIC5jYXRjaCgoKSA9PiBFcnJvcignVW5hYmxlIHRvIGdldCBzZXNzaW9uJykpXG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgc3RhdGljIG1ldGhvZCB0byBnZXQgdGhlIENTUkYgVG9rZW4gaXMgcHJvdmlkZWQgZm9yIGNvbnZlbmllbmNlXG4gICAqKi9cbiAgc3RhdGljIGFzeW5jIGNzcmZUb2tlbigpIHtcbiAgICByZXR1cm4gZmV0Y2goJy9hdXRoL2NzcmYnLCB7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCdVbmV4cGVjdGVkIHJlc3BvbnNlIHdoZW4gdHJ5aW5nIHRvIGdldCBDU1JGIHRva2VuJykpXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiBkYXRhLmNzcmZUb2tlbilcbiAgICAuY2F0Y2goKCkgPT4gRXJyb3IoJ1VuYWJsZSB0byBnZXQgQ1NSRiB0b2tlbicpKVxuICB9XG5cbiAgLyoqXG4gICAqIEEgc3RhdGljIG1ldGhvZCB0byBnZXQgbGlzdCBvZiBjdXJyZW50bHkgbGlua2VkIG9BdXRoIGFjY291bnRzXG4gICAqKi9cbiAgc3RhdGljIGFzeW5jIGxpbmtlZCh7XG4gICAgcmVxID0gbnVsbFxuICB9ID0ge30pIHtcbiAgICAvLyBJZiBydW5uaW5nIHNlcnZlciBzaWRlLCB1c2VzIHNlcnZlciBzaWRlIG1ldGhvZFxuICAgIGlmIChyZXEpIHJldHVybiByZXEubGlua2VkKClcbiAgICBcbiAgICAvLyBJZiBydW5uaW5nIGNsaWVudCBzaWRlLCB1c2UgUkVTVGZ1bCBlbmRwb2ludFxuICAgIHJldHVybiBmZXRjaCgnL2F1dGgvbGlua2VkJywge1xuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcignVW5leHBlY3RlZCByZXNwb25zZSB3aGVuIHRyeWluZyB0byBnZXQgbGlua2VkIGFjY291bnRzJykpXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiBkYXRhKVxuICAgIC5jYXRjaCgoKSA9PiBFcnJvcignVW5hYmxlIHRvIGdldCBsaW5rZWQgYWNjb3VudHMnKSlcbiAgfVxuICBcbiAgLyoqXG4gICAqIEEgc3RhdGljIG1ldGhvZCB0byBnZXQgbGlzdCBvZiBjdXJyZW50bHkgY29uZmlndXJlZCBvQXV0aCBwcm92aWRlcnNcbiAgICoqL1xuICBzdGF0aWMgYXN5bmMgcHJvdmlkZXJzKHtcbiAgICByZXEgPSBudWxsXG4gIH0gPSB7fSkge1xuICAgIC8vIElmIHJ1bm5pbmcgc2VydmVyIHNpZGUsIHVzZXMgc2VydmVyIHNpZGUgbWV0aG9kXG4gICAgaWYgKHJlcSkgcmV0dXJuIHJlcS5wcm92aWRlcnMoKVxuICAgIFxuICAgIC8vIElmIHJ1bm5pbmcgY2xpZW50IHNpZGUsIHVzZSBSRVNUZnVsIGVuZHBvaW50XG4gICAgcmV0dXJuIGZldGNoKCcvYXV0aC9wcm92aWRlcnMnLCB7XG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCdVbmV4cGVjdGVkIHJlc3BvbnNlIHdoZW4gdHJ5aW5nIHRvIGdldCBvQXV0aCBwcm92aWRlcnMnKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+IGRhdGEpXG4gICAgLmNhdGNoKCgpID0+IEVycm9yKCdVbmFibGUgdG8gZ2V0IG9BdXRoIHByb3ZpZGVycycpKVxuICB9XG4gIFxuICBzdGF0aWMgYXN5bmMgc2lnbmluKGVtYWlsKSB7XG4gICAgLy8gU2lnbiBpbiB0byB0aGUgc2VydmVyXG5cbiAgICAvLyBMb2FkIGN1cnJlbnQgc2Vzc2lvbiBpbmZvIGZyb20gY2FjaGVcbiAgICBsZXQgc2Vzc2lvbiA9IGF3YWl0IHRoaXMuaW5pdCgpXG5cbiAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IENTUkYgVG9rZW4gaW4gb3VyIHNlc3Npb25cbiAgICBzZXNzaW9uLmNzcmZUb2tlbiA9IGF3YWl0IHRoaXMuY3NyZlRva2VuKClcblxuICAgIGNvbnN0IGZvcm1EYXRhID0ge1xuICAgICAgX2NzcmY6IHNlc3Npb24uY3NyZlRva2VuLFxuICAgICAgZW1haWwsXG4gICAgfVxuICAgIFxuICAgIC8vIEVuY29kZWQgZm9ybSBwYXJzZXIgZm9yIHNlbmRpbmcgZGF0YSBpbiB0aGUgYm9keVxuICAgIGNvbnN0IGVuY29kZWRGb3JtID0gT2JqZWN0LmtleXMoZm9ybURhdGEpLm1hcCgoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZm9ybURhdGFba2V5XSlcbiAgICB9KS5qb2luKCcmJylcblxuICAgIHJldHVybiBmZXRjaCgnL2F1dGgvZW1haWwvc2lnbmluJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IGVuY29kZWRGb3JtLFxuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcignSFRUUCBlcnJvciB3aGlsZSBhdHRlbXB0aW5nIHRvIHNpZ24gaW4nKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHRydWUpXG4gICAgLmNhdGNoKCgpID0+IEVycm9yKCdVbmFibGUgdG8gc2lnbiBpbicpKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHNpZ25vdXQoKSB7XG4gICAgLy8gU2lnbm91dCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICBjb25zdCBjc3JmVG9rZW4gPSBhd2FpdCB0aGlzLmNzcmZUb2tlbigpXG4gICAgY29uc3QgZm9ybURhdGEgPSB7IF9jc3JmOiBjc3JmVG9rZW4gfVxuXG4gICAgLy8gRW5jb2RlZCBmb3JtIHBhcnNlciBmb3Igc2VuZGluZyBkYXRhIGluIHRoZSBib2R5XG4gICAgY29uc3QgZW5jb2RlZEZvcm0gPSBPYmplY3Qua2V5cyhmb3JtRGF0YSkubWFwKChrZXkpID0+IHtcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChmb3JtRGF0YVtrZXldKVxuICAgIH0pLmpvaW4oJyYnKVxuICAgIFxuICAgIC8vIFJlbW92ZSBjYWNoZWQgc2Vzc2lvbiBkYXRhXG4gICAgdGhpcy5fcmVtb3ZlTG9jYWxTdG9yZSgnc2Vzc2lvbicpXG5cbiAgICByZXR1cm4gZmV0Y2goJy9hdXRoL3NpZ25vdXQnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgICB9LFxuICAgICAgYm9keTogZW5jb2RlZEZvcm0sXG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICAgIC5jYXRjaCgoKSA9PiBFcnJvcignVW5hYmxlIHRvIHNpZ24gb3V0JykpXG4gIH1cblxuICAvLyBUaGUgV2ViIFN0b3JhZ2UgQVBJIGlzIHdpZGVseSBzdXBwb3J0ZWQsIGJ1dCBub3QgYWx3YXlzIGF2YWlsYWJsZSAoZS5nLlxuICAvLyBpdCBjYW4gYmUgcmVzdHJpY3RlZCBpbiBwcml2YXRlIGJyb3dzaW5nIG1vZGUsIHRyaWdnZXJpbmcgYW4gZXhjZXB0aW9uKS5cbiAgLy8gV2UgaGFuZGxlIHRoYXQgc2lsZW50bHkgYnkganVzdCByZXR1cm5pbmcgbnVsbCBoZXJlLlxuICBzdGF0aWMgX2dldExvY2FsU3RvcmUobmFtZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG4gIFxuICBzdGF0aWMgX3NhdmVMb2NhbFN0b3JlKG5hbWUsIGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIFxuICBzdGF0aWMgX3JlbW92ZUxvY2FsU3RvcmUobmFtZSkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShuYW1lKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL25leHQtYXV0aC1jbGllbnQuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!**********************************************************************************************************************************!*\
  !*** external {"root":"isomorphic-fetch","commonjs2":"isomorphic-fetch","commonjs":"isomorphic-fetch","amd":"isomorphic-fetch"} ***!
  \**********************************************************************************************************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_2__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCB7XCJyb290XCI6XCJpc29tb3JwaGljLWZldGNoXCIsXCJjb21tb25qczJcIjpcImlzb21vcnBoaWMtZmV0Y2hcIixcImNvbW1vbmpzXCI6XCJpc29tb3JwaGljLWZldGNoXCIsXCJhbWRcIjpcImlzb21vcnBoaWMtZmV0Y2hcIn0/YzA0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcImlzb21vcnBoaWMtZmV0Y2hcIixcImNvbW1vbmpzMlwiOlwiaXNvbW9ycGhpYy1mZXRjaFwiLFwiY29tbW9uanNcIjpcImlzb21vcnBoaWMtZmV0Y2hcIixcImFtZFwiOlwiaXNvbW9ycGhpYy1mZXRjaFwifVxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);
});